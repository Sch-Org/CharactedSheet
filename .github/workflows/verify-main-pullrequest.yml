name: 'Allow merge only from development'

on:
  pull_request:
    types:
      - opened
    branches:
      - main
env:
  ALLOWED_BRANCHES: ${{ fromJSON('["development"]') }}

jobs:
  verify_compare_branch:
    if: contains(ALLOWED_BRANCHES, github.event_name)
    runs-on: ubuntu-latest
    steps:
      - name: format('You can make PR tp main only from this branches: {0}', join(ALLOWED_BRANCHES, ', '))
        run: exit 1
    
